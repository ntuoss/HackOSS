{"version":3,"file":"utils.js","sourceRoot":"","sources":["../src/utils.ts"],"names":[],"mappings":";;AAAA,0BAA4B;AAE5B,SAAgB,MAAM,CAAI,QAAqD,EAAE,EAAU;IACvF,OAAO,CAAC,CAAC,KAAK,CAAoB,QAAa,EAAE,EAAE,EAAE,IAAA,EAAE,CAAC,CAAC;AAC7D,CAAC;AAFD,wBAEC;AAED,SAAgB,UAAU,CACtB,UAAkD,EAClD,KAAa,EACb,WAAmB,EACnB,SAA8C,EAC9C,OAAsB;IAEtB,IAAI,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,SAAS,CAAC,CAAC;IACpE,OAAO,CAAC,OAAO,CAAC,UAAA,MAAM,IAAI,OAAA,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,EAAjE,CAAiE,CAAC,CAAC;IAC7F,OAAO,KAAK,CAAC;AACjB,CAAC;AAVD,gCAUC;AAED;IAAA;IAIA,CAAC;IAAD,kBAAC;AAAD,CAAC,AAJD,IAIC;AAJY,kCAAW","sourcesContent":["import * as _ from 'lodash';\n\nexport function withId<T>(document: firebase.firestore.DocumentData | undefined, id: string): T {\n    return _.merge<T, { id: string }>(document as T, { id });\n}\n\nexport function buildQuery(\n    collection: firebase.firestore.CollectionReference,\n    limit: number,\n    orderByPath: string,\n    direction: firebase.firestore.OrderByDirection,\n    filters: QueryFilter[]\n) {\n    let query = collection.limit(limit).orderBy(orderByPath, direction);\n    filters.forEach(filter => query = query.where(filter.fieldPath, filter.opStr, filter.value));\n    return query;\n}\n\nexport class QueryFilter {\n    fieldPath: string;\n    opStr: firebase.firestore.WhereFilterOp;\n    value: any;\n}\n"]}