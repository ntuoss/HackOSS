{"version":3,"file":"event.constraints.js","sourceRoot":"","sources":["../../src/events/event.constraints.ts"],"names":[],"mappings":"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","sourcesContent":["import { EVENT_STATUSES, PROFICIENCIES } from './event';\n\nexport const PREREQUISITE_CONSTRAINTS = {\n    label: {\n        presence: true,\n    },\n    proficiency: {\n        presence: true,\n        inclusion: PROFICIENCIES\n    },\n    referenceUrl: {\n        presence: true,\n        url: true\n    }\n};\n\nexport const DEPENDENCY_CONSTRAINTS = {\n    label: {\n        presence: true,\n    },\n    specification: {\n        presence: true,\n    },\n    referenceUrl: {\n        presence: true,\n        url: true\n    }\n};\n\nexport const SPEAKER_CONSTRAINTS = {\n    personId: {\n        presence: true,\n        personExists: true\n    },\n    organisationId: {\n        presence: true,\n        organisationExists: true\n    },\n    position: {\n        presence: true\n    }\n};\n\nexport const PUBLICATION_CONSTRAINTS = {\n    status: {\n        presence: true,\n        inclusion: EVENT_STATUSES\n    },\n    url: {\n        url: true\n    }\n};\n\nexport const EVENT_CONSTRAINTS = {\n    tgif: {\n        presence: true,\n        numericality: {\n            onlyInteger: true,\n        },\n        tgifUnique: true\n    },\n    title: {\n        presence: true,\n        length: { maximum: 64 } // Facebook: 64, Eventbrite: 75\n    },\n    speakers: {\n        presence: true,\n        length: {\n            minimum: 1,\n            tooShort: 'needs to have at least 1 speaker',\n        },\n        array: {\n            constraints: SPEAKER_CONSTRAINTS\n        }\n    },\n    tagline: {\n        presence: true\n    },\n    bannerId: {\n        presence: true,\n        artworkExists: true\n    },\n    description: {\n        presence: true\n    },\n    prerequisites: {\n        presence: true,\n        array: {\n            constraints: PREREQUISITE_CONSTRAINTS\n        }\n    },\n    dependencies: {\n        presence: true,\n        array: {\n            constraints: DEPENDENCY_CONSTRAINTS\n        }\n    },\n    promotion: {\n        presence: true\n    },\n    venueId: {\n        presence: true,\n        locationExists: true\n    },\n    startTime: {\n        presence: true,\n        beforeTime: {\n            timeAttribute: 'endTime'\n        }\n    },\n    endTime: {\n        presence: true,\n        afterTime: {\n            timeAttribute: 'startTime'\n        }\n    },\n    githubUrl: {\n        presence: true,\n        url: true\n    },\n    status: {\n        presence: true,\n        inclusion: EVENT_STATUSES\n    },\n    isPublic: {\n        presence: true\n    },\n    isExternal: {\n        presence: true\n    },\n    hasFood: {\n        presence: true\n    },\n    hasDrinks: {\n        presence: true\n    },\n    remarks: {\n        presence: true\n    },\n    eventbrite: {\n        object: {\n            constraints: PUBLICATION_CONSTRAINTS\n        }\n    },\n    facebook: {\n        object: {\n            constraints: PUBLICATION_CONSTRAINTS\n        }\n    }\n};\n"]}